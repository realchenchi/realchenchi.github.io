<!DOCTYPE html>
<html lang="zh-cn"><head>
    <title>马野先生</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no" />
    <meta name="theme-color" content="#000084" />
    <link rel="icon" href="https://maye.netlify.app/favicon.ico">
    <link rel="canonical" href="https://maye.netlify.app">
    
    
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"></button>
            <a class="brand" href="https://maye.netlify.app">马野先生</a>
            <div class="nav-collapse collapse">
                <ul class="nav">
                    
                    
                        
                            <li>
                                <a href="/post/">
                                    
                                    <span>博客</span>
                                </a>
                            </li>
                        
                    
                        
                            <li>
                                <a href="/about/">
                                    
                                    <span>关于我</span>
                                </a>
                            </li>
                        
                    
                </ul>
            </div>
        </div>
    </div>
</nav><div id="content" class="container">

<div class="row-fluid navmargin">
    <div class="page-header">
        <h1>动画图解 Git 命令，一看就懂 - 2020年05月14日</h1>
    </div>
    <p class="lead"></p>
    <blockquote>
<p>本文由 <a href="http://ksria.com/simpread/">简悦 SimpRead</a> 转码， 原文地址 <a href="https://segmentfault.com/a/1190000022404482">https://segmentfault.com/a/1190000022404482</a></p>
</blockquote>
<p>无论是开发、运维，还是测试，大家都知道 Git 在日常工作中的地位。所以，也是大家的必学、必备技能之一。之前公众号也发过很多 git 相关的文章。</p>
<p>但是呢，民工哥，也经常在后台看到读者说，命令太多了不好记啊，时间长了不用又忘记了等等的吐槽。是啊，要学一门技术真难，何况现在技术更新、迭代这么快&hellip;..</p>
<p>所以，对于学习 Git 这门技术，要是有一个一看就懂，一学就会的入门资料就好了。前不久，国外的一位小姐姐写了一篇这样的文章《CS Visualized: Useful Git Commands》。作者是来自英属哥伦比亚的小姐姐 Lydia Hallie，在这篇文章里面，她通过生动形象的动画，以更加直观的方式，向开发者展示 Git 命令中的 merge、rebase、reset、revert、cherry-pick 等常用骚操作的具体原理。</p>
<p><strong>下面就给大家带来一些实例分享：</strong></p>
<p><strong>1、git merge</strong></p>
<p>fast-forward 模式</p>
<p><img src="https://image-static.segmentfault.com/416/036/4160367930-5e993c6eb9dae_articlex" alt=""></p>
<p>no-fast-forward 模式</p>
<p><img src="https://image-static.segmentfault.com/788/310/78831047-5e993c9e83e05_articlex" alt=""></p>
<p>合并冲突修复的过程 ，动画演示如下：</p>
<p><img src="https://image-static.segmentfault.com/192/666/1926668606-5e993ca79e6fe_articlex" alt=""></p>
<p><strong>2、git rebase</strong></p>
<p>git rebase 指令会复制当前分支的所有最新提交，然后将这些提交添加到指定分支提交记录之上。</p>
<p><img src="https://image-static.segmentfault.com/412/998/4129986506-5e993cbad5235_articlex" alt=""></p>
<p>git rebase 还提供了 6 种操作模式：</p>
<ul>
<li>reword：修改提交信息</li>
<li>edit：修改此提交</li>
<li>squash：将当前提交合并到之前的提交中</li>
<li>fixup：将当前提交合并到之前的提交中，不保留提交日志消息</li>
<li>exec：在每一个需要变基的提交上执行一条命令</li>
<li>drop：删除提交</li>
</ul>
<p>以 drop 为例：<br>
<img src="https://image-static.segmentfault.com/399/234/3992347969-5e993ccd990ef_articlex" alt=""></p>
<p>以 squash 为例：</p>
<p><img src="https://image-static.segmentfault.com/399/234/3992347969-5e993ccd990ef_articlex" alt=""></p>
<p><strong>3、git reset</strong></p>
<p>以下图为例：9e78i 提交添加了 style.css 文件，035cc 提交添加了 index.js 文件。使用软重置，我们可以撤销提交记录，但是保留新建的 style.css 和 index.js 文件。</p>
<p><img src="https://image-static.segmentfault.com/260/101/2601011187-5e993d43791b5_articlex" alt=""></p>
<h3 id="hard-reset-硬重置"><strong>Hard reset 硬重置</strong></h3>
<p>硬重置时：无需保留提交已有的修改，直接将当前分支的状态恢复到某个特定提交下。需要注意的是，硬重置还会将当前工作目录（working directory）中的文件、已暂存文件（staged files）全部移除！如下图所示：</p>
<p><img src="https://image-static.segmentfault.com/192/259/1922593675-5e993d845092f_articlex" alt=""></p>
<p><strong>4、git revert</strong></p>
<p>举个例子，我们在 ec5be 上添加了 index.js 文件。之后发现并不需要这个文件。那么就可以使用 git revert ec5be 指令还原之前的更改。如下图所示：<br>
<img src="https://image-static.segmentfault.com/325/468/3254689519-5e993d967572c_articlex" alt=""></p>
<p><strong>5、git cherry-pick</strong></p>
<p>举个例子：dev 分支上的 76d12 提交添加了 index.js 文件，我们需要将本次提交更改加入到 master 分支，那么就可以使用 git cherry-pick 76d12 单独检出这条记录修改。如下图所示：</p>
<p><img src="https://image-static.segmentfault.com/170/691/1706916404-5e993da58521e_articlex" alt=""></p>
<p><strong>6、git fetch</strong></p>
<p>使用 git fetch 指令将远程分支上的最新的修改下载下来。</p>
<p><img src="https://image-static.segmentfault.com/140/817/1408176701-5e993dbfd1bd6_articlex" alt=""><br>
<strong>7、git pull</strong></p>
<p>git pull 指令实际做了两件事：git fetch 和 git merge。</p>
<p>如下图所示：</p>
<p><img src="https://image-static.segmentfault.com/505/753/505753720-5e993dcc319c4_articlex" alt=""><br>
<strong>8、git reflog</strong></p>
<p>git reflog 用于显示所有已执行操作的日志！包括合并、重置、还原，也就是记录了对分支的一切更改行为。</p>
<p><img src="https://image-static.segmentfault.com/205/384/2053843890-5e993dd765ca3_articlex" alt=""></p>
<p>如果，你不想合并 origin/master 分支了。就需要执行 git reflog 命令，合并之前的仓库状态位于 HEAD@{1} 这个地方，所以我们使用 git reset 指令将 HEAD 头指向 HEAD@{1} 就可以了。<br>
<img src="https://image-static.segmentfault.com/267/945/2679458536-5e993de29d4f1_articlex" alt=""></p>
<p>以上就是民工哥今天给大家带来的分享，如果本文对你有所帮助，请点个在看与转发分享支持一下，感谢大家。我们一起学习，共同进步！！！</p>
<blockquote>
<p><em>原作者：莉迪亚 · 哈莉（Lydia Hallie）</em><br>
<em>原文：<a href="https://dev.to/lydiahallie/cs-visualized-useful-git-commands-37p1">https://dev.to/lydiahallie/cs&hellip;</a></em><br>
<em>民工哥通过翻译作者原文再加上一些个人理解总结而成，版权归原作者所有，纯属技术分享，不作为商业目的。</em></p>
</blockquote>

    <br>
    <hr>
    <h2><a href="https://maye.netlify.app">返回主页</a></h2>
</div>


        </div><footer class="container">
    <hr class="soften">
    <p>

    一孔之见，姑妄言之 | 

&copy; 

    马野先生

<span id="thisyear"></span>

    | <a href="https://space.bilibili.com/3490374">B站</a>


</p>
    <p class="text-center">
        
        
        
        
        
    </p>
</footer>

</body><link rel="stylesheet" href="/css/bootstrap.css">
<link rel="stylesheet" href="/css/bootstrap-responsive.css">
<link rel="stylesheet" href="/css/style.css">
<script src="/js/jquery.js"></script>
<script src="/js/bootstrap-386.js"></script>
<script src="/js/bootstrap-transition.js"></script>
<script src="/js/bootstrap-alert.js"></script>
<script src="/js/bootstrap-modal.js"></script>
<script src="/js/bootstrap-dropdown.js"></script>
<script src="/js/bootstrap-scrollspy.js"></script>
<script src="/js/bootstrap-tab.js"></script>
<script src="/js/bootstrap-tooltip.js"></script>
<script src="/js/bootstrap-popover.js"></script>
<script src="/js/bootstrap-button.js"></script>
<script src="/js/bootstrap-collapse.js"></script>
<script src="/js/bootstrap-carousel.js"></script>
<script src="/js/bootstrap-typeahead.js"></script>
<script src="/js/bootstrap-affix.js"></script>
<script>
    _386 = { 
        fastLoad: false ,
        onePass: false , 
        speedFactor: 2.5 
    };

    window.onload = function ThisYear() {
        document.getElementById('thisyear').innerHTML = "2019-" + new Date().getFullYear();
    };
</script>
</html>
